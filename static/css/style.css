:root {
  /* Color Palette: Defines the core colors used throughout the application. */
  --primary-color: #ff6b35; /* Primary accent color, often used for interactive elements. */
  --secondary-color: #ff9e35; /* Secondary accent color, for highlights and variations. */
  --danger-color: #d7263d; /* Color for warnings, errors, and critical alerts. */
  --background-color: #1a1a1a; /* Base background color for the application. */
  --card-bg: #2d2d2d; /* Background color for card-like elements. */
  --text-primary: #f5f5f5; /* Main text color, ensuring readability on dark backgrounds. */
  --eneo-gradient: linear-gradient(45deg, #f5a623, #ff4b4b); /* Gradient for the "ENEO" title text. */
}

body {
  /* Base body styles: Sets default font, background, and text color. */
  font-family: "Rubik", sans-serif; /* Primary font for general text content. */
  background: linear-gradient(135deg, var(--background-color) 0%, #2a1e1e 100%); /* Subtle gradient background. */
  color: var(--text-primary); /* Default text color. */
  min-height: 100vh; /* Ensures the body takes at least the full viewport height. */
}

/* Headings */
h1, h2, h3 {
  /* Typography for headings: Uses a distinct font for emphasis. */
  font-family: "Orbitron", sans-serif; /* Futuristic font for titles and section headers. */
  letter-spacing: 1px; /* Adds a slight spacing between letters for clarity. */
}

/* Main Application Title Styling */
.main-title {
  /* Styles for the primary application title "ENEO". */
  text-align: center;
  width: 100%;
  margin-left: auto;
  margin-right: auto;
  font-family: 'Orbitron', sans-serif;
  font-size: 4rem;
  /* transform: scale(1); // Base transform, can be removed if starting at natural scale */
  display: flex;
  justify-content: center;
  align-items: center;
  padding-right: 40px; /* Adjust as needed for balance with icon */
  cursor: pointer;
  position: relative; /* Useful for potential pseudo-elements or advanced layouts */

  /* Enhanced Transitions for the container and its text shadow */
  transition: transform 0.35s cubic-bezier(0.25, 0.8, 0.25, 1), 
              text-shadow 0.35s cubic-bezier(0.25, 0.8, 0.25, 1);
}

.main-title:hover {
  /* Enhanced hover effects for the main title */
  transform: translateY(-5px) scale(1.03); /* More noticeable lift and scale */
  text-shadow: 0 10px 25px rgba(255, 107, 53, 0.5); /* Deeper, more spread-out glow */
}

.main-title:active {
  /* Active state for click feedback */
  transform: translateY(-2px) scale(1.01); /* Subtle press-down effect */
  text-shadow: 0 5px 15px rgba(255, 107, 53, 0.4);
}

/* Meteor Icon Styling within the Main Title */
.main-title .title-meteor-icon {
  /* Styles for the custom SVG meteor icon next to the title. */
  display: inline-block;
  height: 1em; /* Icon height relative to the font size of .main-title */
  width: 1em;  /* Icon width relative to the font size of .main-title */
  margin-right: 15px; /* Increased spacing for better visual separation */
  
  background-color: var(--danger-color);
  -webkit-mask-image: url("../images/meteor.svg");
  mask-image: url("../images/meteor.svg");
  -webkit-mask-size: contain;
  mask-size: contain;
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
  -webkit-mask-position: center;
  mask-position: center;

  /* Initial state for transforms and filters */
  transform: rotate(0deg) scale(1) translateX(0);
  filter: drop-shadow(1px 1px 2px rgba(0,0,0,0.15)); /* Softer base shadow */

  /* Enhanced transitions for the icon - using a "bouncy" or "overshoot" easing */
  transition: transform 0.45s cubic-bezier(0.68, -0.55, 0.265, 1.55), 
              filter 0.4s ease,
              background-color 0.3s ease; /* Added transition for background-color */
}

.main-title:hover .title-meteor-icon {
  /* Enhanced hover effects for the meteor icon */
  transform: translateX(5px) rotate(-20deg) scale(1.25); /* Icon "shoots out" slightly, rotates more, and enlarges */
  filter: drop-shadow(2px 2px 8px rgba(0,0,0,0.3)) /* Darker offset shadow for depth */
          drop-shadow(0 0 10px var(--danger-color)); /* Color glow matching the icon */
  background-color: var(--primary-color); /* Change color on hover for more feedback */
}

.main-title:active .title-meteor-icon {
  /* Active state for the icon */
  transform: translateX(2px) rotate(-10deg) scale(1.15); /* Less dramatic than hover, but still active */
  filter: drop-shadow(1px 1px 4px rgba(0,0,0,0.2))
          drop-shadow(0 0 6px var(--danger-color));
  background-color: var(--secondary-color);
}

/* Commented out old MDI icon styles, as a custom SVG is now used. */
/*
.main-title .mdi-meteor {
  margin-right: 10px; 
  transition: transform 0.3s ease;
}

.main-title:hover .mdi-meteor {
  transform: rotate(-5deg) scale(1.1);
}
*/

/* Gradient Text Styling for "ENEO" */
.main-title .text-gradient {
  /* Styles for the "ENEO" part of the title, applying a gradient. */
  margin-left: 0; /* Resets any default or inherited left margin. */
  display: inline-block; /* Ensures transform can be applied */
  
  /* Base filter for subtle glow and initial scale */
  filter: drop-shadow(0 0 6px rgba(245, 166, 35, 0.4));
  transform: scale(1);

  /* Enhanced transitions for the gradient text */
  transition: filter 0.35s cubic-bezier(0.25, 0.8, 0.25, 1), 
              transform 0.35s cubic-bezier(0.25, 0.8, 0.25, 1);
}

.main-title:hover .text-gradient {
  /* Enhanced glow and scale effect for "ENEO" text on hover */
  filter: drop-shadow(0 0 18px rgba(245, 166, 35, 0.7)); /* More intense and wider glow */
  transform: scale(1.02); /* Subtle scale up for the text itself */
}

.main-title:active .text-gradient {
  /* Active state for the gradient text */
  filter: drop-shadow(0 0 12px rgba(245, 166, 35, 0.55));
  transform: scale(1.005); /* Very subtle scale back */
}

/* Application Description Text Styling */
.description-text {
  /* Styles for the descriptive text below the main title. */
  color: #ffffff !important; /* Ensures white text color, overriding other potential styles. */
  font-size: 1.1rem; /* Slightly larger font size for readability. */
  letter-spacing: 0.5px; /* Adds subtle letter spacing. */
  font-weight: 300; /* Lighter font weight. */
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.2); /* Adds a soft shadow for depth. */
  position: relative; /* Enables positioning of pseudo-elements. */
  display: inline-block; /* Allows padding and ensures it behaves like a block but flows with text. */
  padding: 0 15px; /* Adjusted horizontal padding */
  margin-top: 10px; /* Increased space above the description text */
  transition: color 0.3s ease;
}

/* Decorative Lines for Description Text */
.description-text::before,
.description-text::after {
  /* Creates small decorative lines on either side of the description text. */
  content: ""; /* Required for pseudo-elements to display. */
  height: 1px; /* Line thickness. */
  width: 30px; /* Line length. */
  background: var(--primary-color); /* Line color. */
  position: absolute; /* Positions the lines relative to the .description-text. */
  top: 50%; /* Vertically centers the lines. */
  transform: translateY(-50%) scaleX(1); /* Initial scale for animation */
  transition: width 0.4s cubic-bezier(0.25, 0.8, 0.25, 1), 
              background-color 0.4s ease,
              transform 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
}

.description-text::before {
  left: -40px; /* Adjusted position */
  transform-origin: right;
}

.description-text::after {
  right: -40px; /* Adjusted position */
  transform-origin: left;
}

.description-text:hover::before,
.description-text:hover::after {
  width: 50px; /* Increase width on hover */
  background: var(--secondary-color); /* Change color on hover */
  transform: translateY(-50%) scaleX(1.1); /* Slight scale effect */
}

/* Main Content Container */
.container {
  /* Styles for the main content wrapper of the application. */
  margin-left: auto; /* Centers the container horizontally. */
  margin-right: auto; /* Centers the container horizontally. */
  max-width: 90%; /* Sets a maximum width, allowing responsiveness. */
  padding-left: 100px; /* Horizontal padding within the container. */
  padding-right: 100px; /* Horizontal padding within the container. */
}

/* Simulation Input Card Styling */
.simulation-card {
  /* Styles for the primary card holding simulation inputs and map. */
  background: var(--card-bg); /* Card background color. */
  border-radius: 20px; /* Rounded corners for a softer look. */
  box-shadow: 0 12px 35px rgba(0, 0, 0, 0.35); /* Slightly enhanced shadow */
  border: 1px solid rgba(255, 107, 53, 0.25); /* Slightly more visible border */
  backdrop-filter: blur(10px); /* Frosted glass effect for elements behind it (if any). */
  /* Removed duplicated border and box-shadow properties */
  transition: box-shadow 0.3s ease, border-color 0.3s ease;
}

.simulation-card:hover {
  box-shadow: 0 18px 45px rgba(0, 0, 0, 0.4);
  border-color: rgba(255, 107, 53, 0.4);
}

/* Parameter Group Styling */
.parameter-group {
  /* Styles for sections within the simulation card, like "Simulation Parameters" or "Impact Location". */
  background: rgba(45, 45, 45, 0.85); /* Slightly more opaque */
  border-radius: 15px; /* Rounded corners. */
  padding: 1.75rem; /* Increased padding */
  margin-bottom: 1.75rem; /* Increased margin */
  border: 1px solid var(--primary-color); /* Border using the primary accent color. */
  backdrop-filter: blur(5px); /* Subtle blur effect. */
  transition: transform 0.25s ease, box-shadow 0.25s ease, border-color 0.25s ease; /* Smooth transitions for hover. */
}

.parameter-group:hover {
  /* Hover effect for parameter groups: slight lift and enhanced shadow. */
  transform: translateY(-4px) scale(1.01); /* More noticeable lift and slight scale */
  box-shadow: 0 8px 20px rgba(255, 107, 53, 0.25); /* Enhanced shadow */
  border-color: var(--secondary-color);
}

/* Impact Overview Visual Styling */
.impact-visual {
  /* Styles for the section displaying key impact overview metrics (energy, velocity, etc.). */
  background: linear-gradient(45deg, var(--primary-color), var(--secondary-color)); /* Gradient background. */
  border-radius: 15px; /* Rounded corners. */
  padding: 2rem; /* Inner spacing. */
  box-shadow: 0 0 20px rgba(255, 107, 53, 0.3); /* Glowing shadow effect. */
  color: #ffffff !important; /* Ensures text is white. */
  animation: gradientShift 10s ease infinite; /* Animates the background gradient. */
}

/* Keyframe Animation for Gradient Shift */
@keyframes gradientShift {
  /* Animates the background-position of the gradient for a dynamic effect. */
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.impact-visual .dynamic-value {
  /* Styles for the dynamically updated values within the impact overview. */
  color: #ffffff !important; /* Ensures text is white. */
  text-shadow: none !important; /* Removes any inherited text shadow. */
  font-size: 2rem; /* Large font size for emphasis. */
  font-weight: 700; /* Bold font weight. */
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2); /* Soft text shadow. */
  margin-bottom: 0.5rem; /* Space below each value. */
}

/* Form Control Styling (Inputs, Selects) */
.form-control {
  /* General styles for form input fields. */
  background: rgba(40, 40, 40, 0.85); /* Slightly darker base */
  border: 1px solid var(--primary-color); /* Border using primary accent color. */
  color: var(--text-primary); /* Text color within inputs. */
  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1); /* Smoother transition */
  backdrop-filter: blur(5px); /* Subtle blur effect. */
  border-radius: 8px; /* Consistent border-radius */
}

.form-control:focus {
  /* Styles for form inputs when they receive focus. */
  background: rgba(45, 45, 45, 0.95); /* Slightly more opaque background. */
  border-color: var(--secondary-color); /* Changes border color to secondary accent. */
  box-shadow: 0 0 0 0.2rem rgba(var(--secondary-color), 0.25), 0 0 12px rgba(255, 158, 53, 0.4); /* Bootstrap-like focus ring + glow */
  transform: translateY(-1px); /* Slight lift effect. */
  color: var(--text-primary); /* Ensure text color remains white on focus */
  /* Removed duplicated box-shadow */
}

/* Style placeholder text to be white */
.form-control::placeholder { /* Chrome, Firefox, Opera, Safari 10.1+ */
  color: var(--text-primary);
  opacity: 0.7; /* Optional: make placeholder slightly less prominent than typed text */
}

.form-control:-ms-input-placeholder { /* Internet Explorer 10-11 */
  color: var(--text-primary);
  opacity: 0.7;
}

.form-control::-ms-input-placeholder { /* Microsoft Edge */
  color: var(--text-primary);
  opacity: 0.7;
}

/* Primary Button Styling */
.btn-primary {
  /* Styles for the main action buttons (e.g., "Run Simulation"). */
  background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
  background-size: 200% auto; /* For gradient animation on hover */
  border: none;
  font-weight: bold;
  letter-spacing: 1px;
  padding: 0.75rem 1.5rem; /* Added padding for better touch targets */
  border-radius: 8px; /* Consistent border-radius */
  color: white;
  transition: transform 0.2s ease, box-shadow 0.2s ease, background-position 0.4s ease;
}

.btn-primary:hover {
  /* Hover effect for primary buttons: slight lift and shadow. */
  transform: translateY(-3px) scale(1.02); /* Enhanced lift and scale */
  box-shadow: 0 6px 18px rgba(255, 107, 53, 0.45);
  background-position: right center; /* Change gradient direction */
}

.btn-primary:active {
  transform: translateY(-1px) scale(0.99); /* Press down effect */
  box-shadow: 0 3px 10px rgba(255, 107, 53, 0.3);
  background-position: left center; /* Optional: revert gradient or change further */
}

/* "Generate NEO" Button Styling */
.btn-generate-neo {
  /* Specific styles for the "Generate a NEO" button. */
  background: linear-gradient(45deg, var(--secondary-color), var(--primary-color)); /* Reversed gradient. */
  border: none;
  font-weight: bold;
  letter-spacing: 1px;
  transition: transform 0.2s ease;
  color: white; /* Ensures text is white. */
}

.btn-generate-neo:hover {
  /* Hover effect for the "Generate NEO" button. */
  transform: translateY(-2px);
  box-shadow: 0 5px 15px rgba(255, 158, 53, 0.4);
  color: white; /* Ensures text remains white on hover. */
}

/* Navigation Tabs Styling */
.nav-tabs {
  /* Styles for the container of navigation tabs (e.g., Overpressure, Wind, Thermal). */
  border-bottom: 2px solid var(--primary-color); /* Bottom border for the tab group. */
  margin-bottom: 1rem; /* Add some space below tabs */
}

.nav-link {
  /* Styles for individual tab links. */
  color: var(--text-primary); /* Text color for inactive tabs. */
  border: 1px solid transparent; /* Transparent border initially. */
  border-bottom: none; /* Remove bottom border for inactive tabs */
  padding: 0.75rem 1.25rem; /* Adjust padding */
  transition: color 0.3s ease, background-color 0.3s ease, border-color 0.3s ease, transform 0.2s ease;
  position: relative; /* For potential pseudo-elements or effects */
  top: 1px; /* Align with the bottom border of .nav-tabs */
}

.nav-link:hover {
  color: var(--secondary-color);
  border-color: rgba(var(--primary-color), 0.3) rgba(var(--primary-color), 0.3) transparent;
  background-color: rgba(var(--card-bg), 0.5);
  transform: translateY(-2px);
}

.nav-link.active {
  /* Styles for the currently active tab link. */
  background: var(--card-bg); /* Background matching the card. */
  border-color: var(--primary-color) var(--primary-color) var(--card-bg); /* Borders to create tab shape, bottom matches card bg */
  color: var(--secondary-color); /* Text color for active tab. */
  font-weight: bold; /* Bold text for active tab. */
  transform: translateY(0); /* Reset transform */
}

/* Tab Content Pane Styling */
.tab-pane {
  /* Styles for the content area displayed when a tab is active. */
  padding: 1.5rem; /* Inner spacing. */
  background: var(--card-bg); /* Background matching the card. */
  border-radius: 0 0 15px 15px; /* Rounded bottom corners to match tab container. */
}

/* Individual Effect Card Styling (within tabs) */
.effect-card {
  /* Styles for cards displaying specific effect details (e.g., a single overpressure level). */
  background: rgba(45, 45, 45, 0.92); /* Slightly more opaque */
  border-radius: 10px; /* Rounded corners. */
  padding: 1.5rem; /* Increased padding */
  margin-bottom: 1.25rem; /* Increased margin */
  border-left: 5px solid var(--primary-color); /* Thicker accent border */
  transition: transform 0.25s ease, box-shadow 0.25s ease, border-left-color 0.25s ease; /* Smooth transitions for hover. */
}

.effect-card:hover {
  /* Hover effect for effect cards: slight lift and shadow. */
  transform: translateY(-5px) scale(1.015); /* Enhanced lift and slight scale */
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.25); /* Enhanced shadow */
  border-left-color: var(--secondary-color); /* Change accent border color on hover */
}

/* Impact Overview Visual Styling */
.impact-visual {
  /* Styles for the section displaying key impact overview metrics (energy, velocity, etc.). */
  background: linear-gradient(45deg, var(--primary-color), var(--secondary-color)); /* Gradient background. */
  border-radius: 15px; /* Rounded corners. */
  padding: 2rem; /* Inner spacing. */
  box-shadow: 0 0 20px rgba(255, 107, 53, 0.3); /* Glowing shadow effect. */
  color: #ffffff !important; /* Ensures text is white. */
  animation: gradientShift 10s ease infinite; /* Animates the background gradient. */
}

/* Keyframe Animation for Gradient Shift */
@keyframes gradientShift {
  /* Animates the background-position of the gradient for a dynamic effect. */
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.impact-visual .dynamic-value {
  /* Styles for the dynamically updated values within the impact overview. */
  color: #ffffff !important; /* Ensures text is white. */
  text-shadow: none !important; /* Removes any inherited text shadow. */
  font-size: 2rem; /* Large font size for emphasis. */
  font-weight: 700; /* Bold font weight. */
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2); /* Soft text shadow. */
  margin-bottom: 0.5rem; /* Space below each value. */
}

/* Form Control Styling (Inputs, Selects) */
.form-control {
  /* General styles for form input fields. */
  background: rgba(40, 40, 40, 0.85); /* Slightly darker base */
  border: 1px solid var(--primary-color); /* Border using primary accent color. */
  color: var(--text-primary); /* Text color within inputs. */
  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1); /* Smoother transition */
  backdrop-filter: blur(5px); /* Subtle blur effect. */
  border-radius: 8px; /* Consistent border-radius */
}

.form-control:focus {
  /* Styles for form inputs when they receive focus. */
  background: rgba(45, 45, 45, 0.95); /* Slightly more opaque background. */
  border-color: var(--secondary-color); /* Changes border color to secondary accent. */
  box-shadow: 0 0 0 0.2rem rgba(var(--secondary-color), 0.25), 0 0 12px rgba(255, 158, 53, 0.4); /* Bootstrap-like focus ring + glow */
  transform: translateY(-1px); /* Slight lift effect. */
  color: var(--text-primary); /* Ensure text color remains white on focus */
  /* Removed duplicated box-shadow */
}

/* Style placeholder text to be white */
.form-control::placeholder { /* Chrome, Firefox, Opera, Safari 10.1+ */
  color: var(--text-primary);
  opacity: 0.7; /* Optional: make placeholder slightly less prominent than typed text */
}

.form-control:-ms-input-placeholder { /* Internet Explorer 10-11 */
  color: var(--text-primary);
  opacity: 0.7;
}

.form-control::-ms-input-placeholder { /* Microsoft Edge */
  color: var(--text-primary);
  opacity: 0.7;
}

/* Primary Button Styling */
.btn-primary {
  /* Styles for the main action buttons (e.g., "Run Simulation"). */
  background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
  background-size: 200% auto; /* For gradient animation on hover */
  border: none;
  font-weight: bold;
  letter-spacing: 1px;
  padding: 0.75rem 1.5rem; /* Added padding for better touch targets */
  border-radius: 8px; /* Consistent border-radius */
  color: white;
  transition: transform 0.2s ease, box-shadow 0.2s ease, background-position 0.4s ease;
}

.btn-primary:hover {
  /* Hover effect for primary buttons: slight lift and shadow. */
  transform: translateY(-3px) scale(1.02); /* Enhanced lift and scale */
  box-shadow: 0 6px 18px rgba(255, 107, 53, 0.45);
  background-position: right center; /* Change gradient direction */
}

.btn-primary:active {
  transform: translateY(-1px) scale(0.99); /* Press down effect */
  box-shadow: 0 3px 10px rgba(255, 107, 53, 0.3);
  background-position: left center; /* Optional: revert gradient or change further */
}

/* "Generate NEO" Button Styling */
.btn-generate-neo {
  /* Specific styles for the "Generate a NEO" button. */
  background: linear-gradient(45deg, var(--secondary-color), var(--primary-color)); /* Reversed gradient. */
  border: none;
  font-weight: bold;
  letter-spacing: 1px;
  transition: transform 0.2s ease;
  color: white; /* Ensures text is white. */
}

.btn-generate-neo:hover {
  /* Hover effect for the "Generate NEO" button. */
  transform: translateY(-2px);
  box-shadow: 0 5px 15px rgba(255, 158, 53, 0.4);
  color: white; /* Ensures text remains white on hover. */
}

/* Navigation Tabs Styling */
.nav-tabs {
  /* Styles for the container of navigation tabs (e.g., Overpressure, Wind, Thermal). */
  border-bottom: 2px solid var(--primary-color); /* Bottom border for the tab group. */
  margin-bottom: 1rem; /* Add some space below tabs */
}

.nav-link {
  /* Styles for individual tab links. */
  color: var(--text-primary); /* Text color for inactive tabs. */
  border: 1px solid transparent; /* Transparent border initially. */
  border-bottom: none; /* Remove bottom border for inactive tabs */
  padding: 0.75rem 1.25rem; /* Adjust padding */
  transition: color 0.3s ease, background-color 0.3s ease, border-color 0.3s ease, transform 0.2s ease;
  position: relative; /* For potential pseudo-elements or effects */
  top: 1px; /* Align with the bottom border of .nav-tabs */
}

.nav-link:hover {
  color: var(--secondary-color);
  border-color: rgba(var(--primary-color), 0.3) rgba(var(--primary-color), 0.3) transparent;
  background-color: rgba(var(--card-bg), 0.5);
  transform: translateY(-2px);
}

.nav-link.active {
  /* Styles for the currently active tab link. */
  background: var(--card-bg); /* Background matching the card. */
  border-color: var(--primary-color) var(--primary-color) var(--card-bg); /* Borders to create tab shape, bottom matches card bg */
  color: var(--secondary-color); /* Text color for active tab. */
  font-weight: bold; /* Bold text for active tab. */
  transform: translateY(0); /* Reset transform */
}

/* Tab Content Pane Styling */
.tab-pane {
  /* Styles for the content area displayed when a tab is active. */
  padding: 1.5rem; /* Inner spacing. */
  background: var(--card-bg); /* Background matching the card. */
  border-radius: 0 0 15px 15px; /* Rounded bottom corners to match tab container. */
}

/* Individual Effect Card Styling (within tabs) */
.effect-card {
  /* Styles for cards displaying specific effect details (e.g., a single overpressure level). */
  background: rgba(45, 45, 45, 0.92); /* Slightly more opaque */
  border-radius: 10px; /* Rounded corners. */
  padding: 1.5rem; /* Increased padding */
  margin-bottom: 1.25rem; /* Increased margin */
  border-left: 5px solid var(--primary-color); /* Thicker accent border */
  transition: transform 0.25s ease, box-shadow 0.25s ease, border-left-color 0.25s ease; /* Smooth transitions for hover. */
}

.effect-card:hover {
  /* Hover effect for effect cards: slight lift and shadow. */
  transform: translateY(-5px) scale(1.015); /* Enhanced lift and slight scale */
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.25); /* Enhanced shadow */
  border-left-color: var(--secondary-color); /* Change accent border color on hover */
}

/* Impact Overview Visual Styling */
.impact-visual {
  /* Styles for the section displaying key impact overview metrics (energy, velocity, etc.). */
  background: linear-gradient(45deg, var(--primary-color), var(--secondary-color)); /* Gradient background. */
  border-radius: 15px; /* Rounded corners. */
  padding: 2rem; /* Inner spacing. */
  box-shadow: 0 0 20px rgba(255, 107, 53, 0.3); /* Glowing shadow effect. */
  color: #ffffff !important; /* Ensures text is white. */
  animation: gradientShift 10s ease infinite; /* Animates the background gradient. */
}

/* Keyframe Animation for Gradient Shift */
@keyframes gradientShift {
  /* Animates the background-position of the gradient for a dynamic effect. */
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.impact-visual .dynamic-value {
  /* Styles for the dynamically updated values within the impact overview. */
  color: #ffffff !important; /* Ensures text is white. */
  text-shadow: none !important; /* Removes any inherited text shadow. */
  font-size: 2rem; /* Large font size for emphasis. */
  font-weight: 700; /* Bold font weight. */
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2); /* Soft text shadow. */
  margin-bottom: 0.5rem; /* Space below each value. */
}

/* Form Control Styling (Inputs, Selects) */
.form-control {
  /* General styles for form input fields. */
  background: rgba(40, 40, 40, 0.85); /* Slightly darker base */
  border: 1px solid var(--primary-color); /* Border using primary accent color. */
  color: var(--text-primary); /* Text color within inputs. */
  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1); /* Smoother transition */
  backdrop-filter: blur(5px); /* Subtle blur effect. */
  border-radius: 8px; /* Consistent border-radius */
}

.form-control:focus {
  /* Styles for form inputs when they receive focus. */
  background: rgba(45, 45, 45, 0.95); /* Slightly more opaque background. */
  border-color: var(--secondary-color); /* Changes border color to secondary accent. */
  box-shadow: 0 0 0 0.2rem rgba(var(--secondary-color), 0.25), 0 0 12px rgba(255, 158, 53, 0.4); /* Bootstrap-like focus ring + glow */
  transform: translateY(-1px); /* Slight lift effect. */
  color: var(--text-primary); /* Ensure text color remains white on focus */
  /* Removed duplicated box-shadow */
}

/* Style placeholder text to be white */
.form-control::placeholder { /* Chrome, Firefox, Opera, Safari 10.1+ */
  color: var(--text-primary);
  opacity: 0.7; /* Optional: make placeholder slightly less prominent than typed text */
}

.form-control:-ms-input-placeholder { /* Internet Explorer 10-11 */
  color: var(--text-primary);
  opacity: 0.7;
}

.form-control::-ms-input-placeholder { /* Microsoft Edge */
  color: var(--text-primary);
  opacity: 0.7;
}

/* Primary Button Styling */
.btn-primary {
  /* Styles for the main action buttons (e.g., "Run Simulation"). */
  background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
  background-size: 200% auto; /* For gradient animation on hover */
  border: none;
  font-weight: bold;
  letter-spacing: 1px;
  padding: 0.75rem 1.5rem; /* Added padding for better touch targets */
  border-radius: 8px; /* Consistent border-radius */
  color: white;
  transition: transform 0.2s ease, box-shadow 0.2s ease, background-position 0.4s ease;
}

.btn-primary:hover {
  /* Hover effect for primary buttons: slight lift and shadow. */
  transform: translateY(-3px) scale(1.02); /* Enhanced lift and scale */
  box-shadow: 0 6px 18px rgba(255, 107, 53, 0.45);
  background-position: right center; /* Change gradient direction */
}

.btn-primary:active {
  transform: translateY(-1px) scale(0.99); /* Press down effect */
  box-shadow: 0 3px 10px rgba(255, 107, 53, 0.3);
  background-position: left center; /* Optional: revert gradient or change further */
}

/* "Generate NEO" Button Styling */
.btn-generate-neo {
  /* Specific styles for the "Generate a NEO" button. */
  background: linear-gradient(45deg, var(--secondary-color), var(--primary-color)); /* Reversed gradient. */
  border: none;
  font-weight: bold;
  letter-spacing: 1px;
  transition: transform 0.2s ease;
  color: white; /* Ensures text is white. */
}

.btn-generate-neo:hover {
  /* Hover effect for the "Generate NEO" button. */
  transform: translateY(-2px);
  box-shadow: 0 5px 15px rgba(255, 158, 53, 0.4);
  color: white; /* Ensures text remains white on hover. */
}

/* Navigation Tabs Styling */
.nav-tabs {
  /* Styles for the container of navigation tabs (e.g., Overpressure, Wind, Thermal). */
  border-bottom: 2px solid var(--primary-color); /* Bottom border for the tab group. */
  margin-bottom: 1rem; /* Add some space below tabs */
}

.nav-link {
  /* Styles for individual tab links. */
  color: var(--text-primary); /* Text color for inactive tabs. */
  border: 1px solid transparent; /* Transparent border initially. */
  border-bottom: none; /* Remove bottom border for inactive tabs */
  padding: 0.75rem 1.25rem; /* Adjust padding */
  transition: color 0.3s ease, background-color 0.3s ease, border-color 0.3s ease, transform 0.2s ease;
  position: relative; /* For potential pseudo-elements or effects */
  top: 1px; /* Align with the bottom border of .nav-tabs */
}

.nav-link:hover {
  color: var(--secondary-color);
  border-color: rgba(var(--primary-color), 0.3) rgba(var(--primary-color), 0.3) transparent;
  background-color: rgba(var(--card-bg), 0.5);
  transform: translateY(-2px);
}

.nav-link.active {
  /* Styles for the currently active tab link. */
  background: var(--card-bg); /* Background matching the card. */
  border-color: var(--primary-color) var(--primary-color) var(--card-bg); /* Borders to create tab shape, bottom matches card bg */
  color: var(--secondary-color); /* Text color for active tab. */
  font-weight: bold; /* Bold text for active tab. */
  transform: translateY(0); /* Reset transform */
}

/* Tab Content Pane Styling */
.tab-pane {
  /* Styles for the content area displayed when a tab is active. */
  padding: 1.5rem; /* Inner spacing. */
  background: var(--card-bg); /* Background matching the card. */
  border-radius: 0 0 15px 15px; /* Rounded bottom corners to match tab container. */
}

/* Individual Effect Card Styling (within tabs) */
.effect-card {
  /* Styles for cards displaying specific effect details (e.g., a single overpressure level). */
  background: rgba(45, 45, 45, 0.92); /* Slightly more opaque */
  border-radius: 10px; /* Rounded corners. */
  padding: 1.5rem; /* Increased padding */
  margin-bottom: 1.25rem; /* Increased margin */
  border-left: 5px solid var(--primary-color); /* Thicker accent border */
  transition: transform 0.25s ease, box-shadow 0.25s ease, border-left-color 0.25s ease; /* Smooth transitions for hover. */
}

.effect-card:hover {
  /* Hover effect for effect cards: slight lift and shadow. */
  transform: translateY(-5px) scale(1.015); /* Enhanced lift and slight scale */
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.25); /* Enhanced shadow */
  border-left-color: var(--secondary-color); /* Change accent border color on hover */
}

/* CONSOLIDATED DANGER ZONE STYLES */
/* General styling for elements indicating a danger zone or critical information. */
.danger-zone {
  padding: 0.75rem 1rem; /* Adjusted padding */
  margin: 0.5rem 0;
  background: rgba(var(--danger-color), 0.1); /* Use danger color variable for background */
  border-left: 4px solid var(--danger-color); /* Red accent border on the left. */
  border-radius: 8px; /* Consistent rounded corners. */
  color: var(--text-primary); /* Ensure text is readable */
}

/* CONSOLIDATED VULNERABILITY VALUE STYLES */
.vulnerability-value {
  /* Styles for displaying vulnerability scores or values. */
  font-size: 1.2rem;
  font-weight: 500; /* Consider 600 for more emphasis */
  color: var(--primary-color); /* Uses primary accent color. */
  margin: 0.5rem 0;
}

.vulnerability-value.text-muted {
  /* Styles for muted vulnerability values (e.g., "N/A" or "Low"). */
  color: #868e96 !important; /* Slightly lighter muted color for dark backgrounds */
  font-size: 1rem;
  font-style: italic;
}

/* Danger Zone Card Styling (more specific than general .danger-zone) */
.danger-zone-card {
  /* Styles for cards specifically highlighting danger zones. */
  border-left: 4px solid var(--danger-color); /* Red accent border. */
  background-color: rgba(var(--danger-color), 0.08); /* Slightly different background if needed, or use .danger-zone */
  padding: 1rem; /* Ensure consistent padding */
  border-radius: 10px; /* Match other cards if desired */
  margin-bottom: 1rem;
}

/* Dynamic Value within Danger Zone Card - ensure this is distinct from general .dynamic-value if needed */
.danger-zone-card .dynamic-value {
  font-weight: 500;
  color: var(--text-primary); /* Resets to default text color. */
}

/* Value within Danger Zone (potentially redundant with above) */
/* .danger-zone-value { // This class seems redundant if .dynamic-value is used within .danger-zone-card
  color: var(--text-primary) !important; 
} */

/* Description within Danger Zone */
.danger-zone-description {
  color: var(--primary-color) !important; /* Uses primary accent color for emphasis. */
  font-weight: 500;
  font-size: 0.9rem; /* Slightly smaller for description */
}

/* Loading Overlay Styling */
.loading-overlay {
  /* Styles for the full-screen overlay shown during simulation processing. */
  position: fixed; /* Covers the entire viewport. */
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(30, 30, 30, 0.92); /* Dark, semi-transparent background. */
  display: none; /* Hidden by default, shown via JavaScript. */
  flex-direction: column; /* Arranges spinner and messages vertically. */
  justify-content: center; /* Centers content vertically. */
  align-items: center; /* Centers content horizontally. */
  z-index: 9999; /* Ensures it's on top of all other content. */
}

/* Loading Spinner Animation */
.loading-spinner {
  /* Styles for the animated spinner. */
  border: 8px solid #ff9e35; /* Spinner track color. */
  border-top: 8px solid #ff6b35; /* Spinner moving part color. */
  border-radius: 50%; /* Creates a circle. */
  width: 70px;
  height: 70px;
  animation: spin 1.2s linear infinite; /* Applies the spin animation. */
  margin-bottom: 2rem; /* Space below the spinner. */
}

@keyframes spin {
  /* Defines the rotation animation for the spinner. */
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Loading Message Styling */
.loading-message {
  /* Styles for the primary message displayed during loading (e.g., "Running simulation..."). */
  color: #fff;
  font-size: 1.5rem;
  font-family: "Orbitron", sans-serif; /* Uses the heading font. */
  letter-spacing: 1px;
  text-align: center;
  margin-bottom: 0.5rem;
}

/* Loading Tip Styling */
.loading-tip {
  /* Styles for the secondary/tip message displayed during loading. */
  color: #ff9e35; /* Uses secondary accent color. */
  font-size: 1rem;
  text-align: center;
  margin-top: 0.5rem;
  opacity: 0.85; /* Slightly transparent. */
  max-width: 500px; /* Limits width for better readability. */
}

/* Text Selection Styling */
::selection {
  /* Custom styles for text selected by the user. */
  background: var(--primary-color); /* Selection background color. */
  color: white; /* Selected text color. */
}

/* Vulnerability Value Styling */
.vulnerability-value {
  /* Styles for displaying vulnerability scores or values. */
  font-size: 1.2rem;
  font-weight: 500;
  color: var(--primary-color); /* Uses primary accent color. */
  margin-top: 0.5rem;
}

/* Hover effect for vulnerability cards */
#nav-vulnerability .effect-card {
  transition: transform 0.2s ease;
}

#nav-vulnerability .effect-card:hover {
  transform: translateY(-2px);
}

/* Vulnerability Value (potentially redundant, check usage) */
.vulnerability-value {
  font-size: 1.2rem;
  font-weight: 500;
  color: var(--primary-color);
  margin: 0.5rem 0;
}

.vulnerability-value.text-muted {
  /* Styles for muted vulnerability values (e.g., "N/A" or "Low"). */
  color: #6c757d !important; /* Bootstrap muted color. */
  font-size: 1rem;
  font-style: italic;
}

/* General Vulnerability Scale (alternative or base style) */
.vulnerability-scale {
  /* A simpler, non-gradient scale bar. */
  height: 4px;
  background: rgba(255, 255, 255, 0.1); /* Light, semi-transparent background. */
  border-radius: 2px;
  margin-top: 0.5rem;
  overflow: hidden; /* Ensures any inner bar doesn't exceed bounds. */
}

/* Background Utility Classes (Bootstrap overrides or additions) */
.bg-success { background-color: #198754 !important; }
.bg-warning { background-color: #ffc107 !important; }
.bg-danger  { background-color: #dc3545 !important; }

/* Interactive Map Styling */
#map {
  /* Styles for the Leaflet map container. */
  height: 400px; /* Defines the map's height. */
  border-radius: 20px; /* Rounded corners, matching card styles. */
  margin-bottom: 1.5rem; /* Space below the map. */
}

/* Population Impact Card Styling */
.population-card {
  /* Styles for cards displaying population impact data. */
  background: rgba(45, 45, 45, 0.9);
  border-radius: 10px;
  padding: 1.25rem;
  margin-bottom: 1rem;
  border-left: 4px solid var(--primary-color); /* Accent border. */
}

/* Individual Population Zone Item Styling */
.population-zone {
  /* Styles for rows within the population card, detailing impact per zone. */
  display: flex; /* Arranges zone name and population count side-by-side. */
  justify-content: space-between; /* Pushes items to opposite ends. */
  align-items: center; /* Vertically aligns items. */
  padding: 0.5rem 0; /* Vertical padding. */
  border-bottom: 1px solid rgba(255, 255, 255, 0.1); /* Separator line. */
}

.population-zone:last-child {
  border-bottom: none; /* Removes border from the last item. */
}

/* NTUA Logo Container */
.ntua-logo-container {
  /* Positions the NTUA logo at the top-left of the page. */
  position: absolute;
  top: 20px;
  left: 20px;
  z-index: 1000; /* Ensures logo is above most other content. */
}

.ntua-logo {
  /* Styles for the NTUA logo image. */
  width: 150px; /* Sets logo width. */
  height: auto; /* Maintains aspect ratio. */
  filter: brightness(0) invert(1); /* Converts a dark logo to white for visibility on dark background. */
  opacity: 0.9; /* Slight transparency. */
  transition: opacity 0.3s ease; /* Smooth transition for potential hover effects (not defined here). */
  margin-left: -10px;  /* Adjusts horizontal position slightly. */
}

/* Lead Text Styling Update */
.lead.text-muted {
  /* Overrides Bootstrap's muted lead style to ensure visibility. */
  color: #ffffff !important;
}

.text-white {
  /* Utility class to force text color to white. */
  color: #ffffff !important;
}

/* Vulnerability Contribution Text Styling */
.vulnerability-contribution {
  /* Styles for text indicating contribution to overall vulnerability. */
  color: var(--primary-color) !important; /* Uses primary accent color. */
  font-size: 0.9rem;
  font-weight: 500;
}

/* Map Controls Styling (Zone Type Selector) */
.map-controls {
  /* Styles for the container of map control buttons (e.g., zone type radio buttons). */
  background: var(--card-bg); /* Matches card background. */
  padding: 15px;
  border-radius: 10px; /* Rounded corners. */
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2); /* Subtle shadow. */
  border: 1px solid rgba(255, 107, 53, 0.15); /* Optional subtle border. */
  margin-top: 1rem; /* Space above the controls. */
}

.btn-group {
  /* Styles for button groups, ensuring they span full width and center content. */
  width: 100%;
  display: flex;
  justify-content: center;
}

/* Outline Primary Button Styling (used in map controls) */
.btn-outline-primary {
  /* Styles for outline-style buttons. */
  background: var(--card-bg); /* Matches card background. */
  color: var(--text-primary); /* Text color. */
  border-color: var(--primary-color); /* Border using primary accent color. */
}

.btn-outline-primary:hover,
.btn-check:checked + .btn-outline-primary {
  /* Styles for hovered or checked outline buttons. */
  background: var(--primary-color); /* Fills with primary accent color. */
  color: white; /* Text becomes white. */
  border-color: var(--primary-color); /* Border remains primary accent color. */
}

/* Leaflet Map Popup Styling */
.leaflet-popup-content-wrapper {
  /* Styles for the content wrapper of map popups. */
  background: var(--card-bg); /* Matches card background. */
  color: var(--text-primary); /* Text color within popups. */
}

.leaflet-popup-tip {
  /* Styles for the tip/arrow of map popups. */
  background: var(--card-bg); /* Matches card background. */
}

/* Gradient Text General Styling */
.text-gradient {
  /* General utility class for applying a gradient to text (used for "ENEO" title). */
  background: var(--eneo-gradient); /* Applies the defined gradient. */
  -webkit-background-clip: text; /* Clips the background to the text shape (WebKit). */
  background-clip: text; /* Standard property for clipping background to text. */
  color: transparent; /* Makes the actual text color transparent, showing the gradient background. */
  font-weight: 700; /* Bold font weight. */
  letter-spacing: 0.05em; /* Adds letter spacing. */
  text-shadow: 0px 2px 4px rgba(0, 0, 0, 0.2); /* Subtle text shadow. */
}

/* Lead Text with Bold Weight Styling */
.lead.fw-bold {
  /* Styles for lead paragraphs that are also bold. */
  letter-spacing: 0.03em;
  font-family: 'Orbitron', sans-serif; /* Uses heading font. */
  margin-bottom: 0.5rem;
  color: #6c757d; /* Muted text color (Bootstrap default). */
}

/* Country Tab Specific Card Styling */
.country-card {
  /* Styles for cards within the "Countries" tab. */
  border-left: 4px solid #3498db !important; /* Blue accent border. */
}

.country-stats {
  /* Container for statistics within a country card. */
  margin-top: 10px;
}

.stat-label {
  /* Styles for labels of statistics (e.g., "Population Affected:"). */
  font-size: 0.85rem;
  opacity: 0.8; /* Slightly transparent. */
  margin-bottom: 3px;
}

.stat-value {
  /* Styles for the actual statistic values. */
  font-weight: 500;
  font-size: 1.2rem;
}

/* Title for Zone Breakdown within Country Card */
.zone-breakdown-title {
  font-size: 0.85rem;
  font-weight: 500;
  margin-top: 8px;
  color: var(--secondary-color); /* Uses secondary accent color. */
  border-bottom: 1px solid rgba(255, 255, 255, 0.1); /* Separator line. */
  padding-bottom: 3px;
}

/* Individual Zone Item in Country Breakdown */
.country-zone-item {
  padding: 3px 0;
  border-bottom: 1px dotted rgba(255, 255, 255, 0.1); /* Dotted separator. */
}

.country-zone-item:last-child {
  border-bottom: none; /* Removes border from the last item. */
}

/* Economic Impact Tab Specific Card Styling */
.economy-card {
  /* Styles for cards within the "Economic" tab. */
  border-left: 4px solid #28a745 !important; /* Green accent border. */
}

.economy-stats {
  /* Container for statistics within an economy card. */
  margin-top: 10px;
}

/* Re-uses .stat-label and .stat-value from country card, ensure this is intended or create specific classes. */
.economy-card .stat-label {
  font-size: 0.85rem;
  opacity: 0.8;
  margin-bottom: 3px;
}

.economy-card .stat-value {
  font-weight: 500;
  font-size: 1.2rem;
}

/* Container for GDP Impact details */
.gdp-impact-container {
  margin-top: 8px;
  background: rgba(0, 0, 0, 0.1); /* Dark, semi-transparent background. */
  border-radius: 4px;
  padding: 5px;
}

/* Scale Bar for Economic Impact */
.economy-impact-scale {
  height: 6px;
  background: rgba(255, 255, 255, 0.1); /* Light, semi-transparent track. */
  border-radius: 3px;
  margin-top: 5px;
  overflow: hidden; /* Ensures inner bar doesn't exceed bounds. */
}

.economy-impact-bar {
  /* The actual colored bar representing the economic impact percentage. */
  height: 100%;
  border-radius: 3px;
  /* Background color for this bar will likely be set dynamically via JavaScript or inline styles. */
}

.text-highlight-orange {
  color: var(--primary-color) !important; /* Using primary orange color */
}

/* Dynamic Value within Danger Zone Card - ensure this is distinct from general .dynamic-value if needed */
.danger-zone-card .dynamic-value {
  font-weight: 500;
  color: var(--text-primary); /* Resets to default text color. */
}

/* Description within Danger Zone */
.danger-zone-description {
  color: var(--primary-color) !important; /* Uses primary accent color for emphasis. */
  font-weight: 500;
  font-size: 0.9rem; /* Slightly smaller for description */
}

/* Impact Timeline Styling (Visual representation of event progression) */
.impact-timeline {
  /* Container for the timeline steps. */
  width: 80%;
  max-width: 800px; /* Limits width for better layout. */
  margin: 0 auto; /* Centers the timeline. */
  position: relative; /* For positioning the progress bar. */
  padding: 20px 0; /* Vertical padding. */
}

/* Timeline Progress Bar */
.timeline-progress {
  /* The line that visually connects timeline steps and indicates progress. */
  position: absolute;
  height: 4px;
  background: linear-gradient(90deg, var(--primary-color), var(--secondary-color)); /* Gradient fill. */
  top: 50px; /* Vertical position (adjust based on icon size/position). */
  left: 0;
  width: 0; /* Initially no width, animated via JavaScript. */
  transition: width 1s ease; /* Smooth animation for width change. */
  z-index: 1; /* Behind the step icons. */
}

/* Individual Timeline Step */
.timeline-step {
  /* Styles for each step in the timeline. */
  display: flex;
  flex-direction: column; /* Arranges icon, label, and details vertically. */
  align-items: center; /* Centers items horizontally. */
  position: relative; /* For z-indexing if needed. */
  margin-bottom: 40px; /* Space below each step (for vertical layout). */
  opacity: 0.5; /* Inactive steps are semi-transparent. */
  transition: all 0.5s ease; /* Smooth transition for active state. */
}

.timeline-step.active {
  /* Styles for the currently active timeline step. */
  opacity: 1; /* Fully opaque. */
}

/* Timeline Step Icon */
.step-icon {
  /* The circular icon for each timeline step. */
  width: 50px;
  height: 50px;
  border-radius: 50%; /* Makes it a circle. */
  background: var(--card-bg); /* Background color. */
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 24px; /* Icon size (if using font icons). */
  margin-bottom: 10px; /* Space below the icon. */
  z-index: 2; /* Above the progress bar. */
  transition: all 0.5s ease; /* Smooth transition for active state. */
  border: 2px solid var(--primary-color); /* Border color. */
}

.timeline-step.active .step-icon {
  /* Styles for the icon of an active timeline step. */
  background: var(--primary-color); /* Fills with primary accent color. */
  transform: scale(1.1); /* Slightly enlarges the icon. */
}

/* Timeline Step Label */
.step-label {
  /* Text label for each timeline step (e.g., "Atmospheric Entry"). */
  font-weight: bold;
  margin-bottom: 5px;
  font-family: "Orbitron", sans-serif; /* Uses heading font. */
  text-align: center;
}

/* Timeline Step Details */
.step-details {
  /* Additional descriptive text for each timeline step. */
  font-size: 0.9rem;
  text-align: center;
  min-height: 40px; /* Ensures consistent height even with short text. */
  padding: 0 10px; /* Horizontal padding. */
}

/* Horizontal Layout for Timeline on Larger Screens */
@media (min-width: 768px) {
  .impact-timeline {
    display: flex; /* Arranges steps horizontally. */
    justify-content: space-between; /* Distributes space between steps. */
  }
  
  .timeline-progress {
    top: 30px; /* Adjust vertical position for horizontal layout. */
    width: 100%; /* Spans the full width of the timeline. */
    transform: scaleX(0); /* Initially scaled to zero, animated to fill. */
    transform-origin: left; /* Animation originates from the left. */
  }
  
  .timeline-step {
    flex: 1; /* Each step takes equal width. */
    margin-bottom: 0; /* No bottom margin in horizontal layout. */
  }
}

/* ===== RESPONSIVE DESIGN ===== */

/* Medium devices (tablets, less than 992px) */
@media (max-width: 991.98px) {
  .container {
    padding-left: 20px;
    padding-right: 20px;
  }
  
  .main-title {
    font-size: 3rem;
    padding-right: 20px;
  }
  
  .ntua-logo {
    width: 120px;
  }
  
  .nav-tabs {
    flex-wrap: wrap;
  }
  
  .nav-link {
    padding: 0.5rem 0.75rem;
    font-size: 0.9rem;
  }
  
  #map {
    height: 350px;
  }
}

/* Small devices (phones, less than 768px) */
@media (max-width: 767.98px) {
  .container {
    max-width: 100%;
    padding-left: 15px;
    padding-right: 15px;
  }
  
  .main-title {
    font-size: 2.5rem;
    padding-right: 0;
    flex-direction: column;
  }
  
  .main-title .title-meteor-icon {
    margin-right: 0;
    margin-bottom: 10px;
  }
  
  .description-text::before,
  .description-text::after {
    width: 20px;
    left: -25px;
  }
  
  .description-text::after {
    right: -25px;
  }
  
  /* Tabs scroll horizontally on mobile */
  .nav-tabs {
    flex-wrap: nowrap;
    overflow-x: auto;
    overflow-y: hidden;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none;  /* IE and Edge */
    padding-bottom: 5px;
  }
  
  .nav-tabs::-webkit-scrollbar {
    display: none; /* Chrome, Safari, Opera */
  }
  
  .nav-link {
    white-space: nowrap;
    padding: 0.5rem;
    font-size: 0.8rem;
  }
  
  /* Make sure map controls fit */
  .map-controls .btn-group {
    flex-wrap: wrap;
    gap: 5px;
  }
  
  .btn-outline-primary {
    padding: 0.375rem 0.5rem;
    font-size: 0.8rem;
  }
  
  /* Stack columns on mobile */
  .row .col-md-6,
  .row .col-md-4,
  .row .col-lg-4 {
    margin-bottom: 1rem;
  }
  
  /* Adjust impact visual */
  .impact-visual {
    padding: 1.5rem;
  }
  
  .impact-visual .dynamic-value {
    font-size: 1.5rem;
  }
  
  /* Make the timeline more compact */
  .impact-timeline {
    width: 100%;
  }
  
  .loading-fact {
    max-width: 100%;
    margin: 20px 10px;
  }
  
  /* Adjust buttons */
  .btn-primary, 
  .btn-generate-neo, 
  .btn-outline-secondary {
    width: 100%;
    margin: 0.5rem 0 !important;
  }
  
  /* Improve form layout */
  .parameter-group {
    padding: 1rem;
  }
  
  #map {
    height: 300px;
  }
  
  /* Adjust effect cards */
  .effect-card {
    padding: 1rem;
  }
  
  /* NTUA logo positioning */
  .ntua-logo-container {
    position: relative;
    top: 0;
    left: 0;
    margin: 10px auto;
    text-align: center;
  }
  
  .ntua-logo {
    width: 100px;
    margin-left: 0;
  }
}

/* Extra small devices (small phones, less than 576px) */
@media (max-width: 575.98px) {
  .main-title {
    font-size: 2rem;
  }
  
  .dynamic-value {
    font-size: 1.2rem !important;
  }
  
  .loading-message {
    font-size: 1.2rem;
    padding: 0 15px;
  }
  
  .loading-tip {
    font-size: 0.9rem;
    padding: 0 15px;
  }
  
  .step-icon {
    width: 40px;
    height: 40px;
    font-size: 20px;
  }
  
  .step-label {
    font-size: 0.8rem;
  }
  
  .step-details {
    font-size: 0.8rem;
    min-height: 30px;
  }
  
  /* Make the form inputs more touch-friendly */
  .form-control {
    height: calc(1.5em + 1rem + 2px);
    font-size: 1rem;
  }
  
  .form-label {
    font-size: 0.9rem;
  }
  
  .input-hint {
    font-size: 0.8rem;
  }
}

/* Form Responsiveness */
@media (max-width: 767.98px) {
  /* Adjust the spacing between form inputs */
  .row.g-4 {
    row-gap: 0.75rem !important;
  }
  
  /* Stack form action buttons */
  #simulationForm .text-center {
    display: flex;
    flex-direction: column;
  }
  
  #simulationForm .btn {
    margin-bottom: 0.5rem;
    margin-left: 0 !important;
  }
  
  /* Make the vulnerability selector more mobile-friendly */
  #vulnerabilitySelectorDiv {
    padding: 10px;
  }
  
  /* Adjust the tab panes */
  .tab-pane {
    padding: 1rem;
  }
}

/* Map Controls Responsiveness */
@media (max-width: 767.98px) {
  .map-controls .btn-group {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    width: 100%;
  }
  
  .map-controls .btn-outline-primary {
    border-radius: 0.25rem !important;
    margin: 2px;
  }
  
  /* Reset some Bootstrap button group styles for mobile grid layout */
  .btn-group > .btn:not(:first-child),
  .btn-group > .btn-group:not(:first-child) > .btn {
    border-top-left-radius: 0.25rem;
    border-bottom-left-radius: 0.25rem;
  }
  
  .btn-group > .btn:not(:last-child):not(.dropdown-toggle),
  .btn-group > .btn-group:not(:last-child) > .btn {
    border-top-right-radius: 0.25rem;
    border-bottom-right-radius: 0.25rem;
  }
}

/* Extra small screens */
@media (max-width: 575.98px) {
  .map-controls .btn-group {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* Windows-specific scaling */
.windows-platform {
  transform: scale(0.9);
  transform-origin: top center;
}

/* Only apply transform if zoom isn't supported (as a fallback) */
.windows-platform[style*="zoom"] {
  transform: none;
}

/* Loading Fact Styling (within loading overlay) */
.loading-fact {
  background: rgba(30, 30, 30, 0.85); /* Darker, slightly more opaque background */
  border-top: 3px solid; /* Prepare for gradient border */
  border-image-slice: 1;
  border-image-source: linear-gradient(to right, var(--primary-color), var(--secondary-color));
  border-left: none;
  border-right: none;
  border-bottom: none;
  border-radius: 8px; /* Slightly less rounded corners */
  padding: 1.25rem 1.5rem; /* Adjusted padding */
  margin-top: 2.5rem; /* Increased top margin */
  max-width: 650px; /* Slightly wider */
  text-align: center;
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3); /* Softer, more diffuse shadow */
  transition: opacity 0.5s ease-in-out, transform 0.3s ease-in-out;
  color: var(--text-primary); /* Ensure text color is consistent */
}

.loading-fact.fact-fade {
  opacity: 0;
  transform: translateY(10px); /* Add a slight downward movement on fade out */
}

.fact-prefix {
  display: block;
  font-weight: 600; /* Slightly bolder */
  color: var(--secondary-color);
  margin-bottom: 0.75rem; /* Increased space */
  font-size: 1.15rem; /* Slightly larger */
  text-transform: uppercase; /* Uppercase for a modern touch */
  letter-spacing: 0.5px;
}

.fact-text {
  color: var(--text-primary);
  font-size: 1.05rem; /* Slightly larger fact text */
  line-height: 1.7; /* Improved line spacing for readability */
  opacity: 0.9; /* Slightly softer text */
}
